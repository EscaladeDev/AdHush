<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ad Mute ‚Äî Premium</title>
  <meta name="description" content="Ad Mute mutes loud ads automatically. A premium, high-polish site experience.">
  <style>
    @media (prefers-color-scheme: dark) { :root { color-scheme: dark; } }
    :root{
      --bg:#07080d; --surface:#0e1118; --border:rgba(255,255,255,.12);
      --text:#ecf1fb; --muted:#9ea9bf; --navH:60px; --radius:22px; --space:clamp(80px,8vw,140px);
      --swift:cubic-bezier(.22,.61,.36,1);
      --accent1:#7aa8ff; --accent2:#c79aff; --accent3:#5de1ff;
      --glow:0 30px 100px rgba(100,140,255,.35);
      --container: min(1440px, 92vw);
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0; font-family:Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color:var(--text); background:var(--bg); line-height:1.55; -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
      overflow-x:hidden;
    }
    .container{width:var(--container);margin:0 auto;padding:0 16px}
    a{color:#dbeafe;text-decoration:none} a:hover{text-decoration:underline}

    /* Ambient stage */
    .ambient{position:fixed; inset:-12vmax; pointer-events:none; z-index:-2; filter:hue-rotate(220deg) saturate(1.15) brightness(1.05);
      transition:filter .9s var(--swift);}
    .ambient .l{position:absolute; inset:-10vmax; opacity:.9; will-change:transform, opacity; mix-blend-mode:screen;}
    .l.l1{background:
      radial-gradient(1100px 650px at 12% -8%, rgba(124,152,255,.22), transparent 60%),
      radial-gradient(900px 500px at 88% -16%, rgba(200,160,255,.20), transparent 55%);}
    .l.l2{background:
      radial-gradient(1400px 900px at 50% 120%, rgba(12,24,60,.95), transparent 70%),
      radial-gradient(800px 500px at 0% 100%, rgba(94,197,255,.10), transparent 55%); opacity:.7}
    #scroll-progress{position:fixed;left:0;top:0;height:2.5px;width:100%;transform-origin:0 50%;transform:scaleX(0);
      background:linear-gradient(90deg,var(--accent1),var(--accent2),var(--accent3));z-index:80;}

    /* Header */
    .nav{position:sticky;top:0;z-index:70;backdrop-filter:saturate(180%) blur(12px);
         background:linear-gradient(180deg, rgba(8,10,16,.72), rgba(8,10,16,.36)); border-bottom:1px solid var(--border)}
    .nav-inner{height:var(--navH);display:flex;align-items:center;justify-content:space-between;gap:14px}
    .brand{display:flex;align-items:center;gap:10px;font-weight:800;letter-spacing:.2px}
    .logo{width:36px;height:36px;border-radius:12px;display:grid;place-items:center;background:linear-gradient(135deg,#fff,#ececec);color:#000;box-shadow:0 10px 20px rgba(0,0,0,.25)}
    .pill{display:inline-flex;align-items:center;padding:4px 9px;border-radius:999px;font-size:12px;color:#cbd5e1;background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));border:1px solid var(--border)}

    .nav-links{display:flex;gap:22px;align-items:center;flex:1 1 auto;justify-content:flex-end;overflow-x:auto;white-space:nowrap;padding:0 6px;scrollbar-width:none}
    .nav-links::-webkit-scrollbar{display:none}
    .nav-links a{color:var(--muted);padding:6px 0;position:relative}
    .nav-links a::after{content:"";position:absolute;left:0;right:0;bottom:-8px;height:2px;transform:scaleX(0);transform-origin:50% 50%;
      background:linear-gradient(90deg,var(--accent1),var(--accent2));transition:transform .25s var(--swift)}
    .nav-links a:hover{color:#fff}.nav-links a:hover::after{transform:scaleX(1)}
    .nav-toggle{display:none;width:42px;height:42px;border-radius:12px;border:1px solid var(--border);background:rgba(255,255,255,.06);color:#e5e7eb}
    @media (max-width: 880px){ .nav-links{display:none} .nav-toggle{display:inline-grid;place-items:center} }

    /* Mobile menu overlay + animation */
    .mobile-menu{position:fixed; inset:var(--navH) 0 0 0; background:rgba(8,10,16,.66); backdrop-filter: blur(10px) saturate(160%);
      z-index:69; opacity:0; pointer-events:none; transition: opacity .28s var(--swift);}
    .mobile-menu.open{opacity:1; pointer-events:auto}
    .mobile-sheet{width:min(560px,94vw); margin:14px auto; padding:14px; border-radius:18px; border:1px solid var(--border);
      background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03)); box-shadow: var(--glow);
      transform: translateY(8px) scale(.985); opacity:.85; transition: transform .28s var(--swift), opacity .28s var(--swift);}
    .mobile-menu.open .mobile-sheet{transform:none; opacity:1}
    .mobile-sheet a{display:block; padding:14px 16px; border-radius:14px; color:#e8ecf8; text-decoration:none; border:1px solid transparent}
    .mobile-sheet > a + a{margin-top:10px}
    .mobile-sheet a:hover{background:rgba(255,255,255,.06); border-color:var(--border)}
    /* Equal, aligned CTAs */
    .mobile-cta{display:grid; grid-template-columns:1fr; gap:12px; margin-top:16px}
    @media (min-width:480px){ .mobile-cta{grid-template-columns:1fr 1fr} }
    .mobile-cta .btn{width:100%; height:60px; display:flex; align-items:center; justify-content:center; font-size:clamp(15px, 3.6vw, 17px); white-space:nowrap; line-height:1; padding:0 20px;}
    .mobile-cta .btn + .btn{margin-top:0}

    /* Sections & transitions */
    .section{padding:var(--space) 0; position:relative; scroll-margin-top: calc(var(--navH) + 24px)}
    .section + .section::before{content:"";position:absolute;left:50%;transform:translateX(-50%);width:100%;top:calc(-1*var(--space)*.35);height:48px;
      background:radial-gradient(60% 60% at 50% 0, rgba(255,255,255,.06), transparent 70%);filter:blur(10px);opacity:.9;pointer-events:none}
    .enter-glow{position:absolute;inset:-2px;border-radius:30px;pointer-events:none;opacity:0}
    .entered .enter-glow{animation:sweep 900ms var(--swift)}
    @keyframes sweep{ 0%{opacity:.0;box-shadow:0 0 0 rgba(124,152,255,0)} 10%{opacity:.9;box-shadow:0 0 0 0 rgba(124,152,255,.0),0 0 1px 1px rgba(124,152,255,.25), 0 0 50px 5px rgba(124,152,255,.25) inset} 100%{opacity:0;box-shadow:0 0 0 rgba(124,152,255,0)} }
    .clip{--clip:26%; clip-path: inset(var(--clip) 0 0 0 round 28px); transform:perspective(1200px) translateY(10px) scale(.985) rotateX(6deg);
      transition: clip-path .9s var(--swift), transform .9s var(--swift); will-change:clip-path, transform; box-shadow:var(--glow)}
    .clip.active{clip-path: inset(0 0 0 0 round 28px); transform:perspective(1200px) translateY(0) scale(1) rotateX(0)}

    [data-reveal]{opacity:0; transform:translateY(16px) scale(.98); transition:opacity .65s var(--swift), transform .65s var(--swift)}
    [data-reveal].inview{opacity:1; transform:none}
    [data-stagger] > *{opacity:0; transform:translateY(12px) scale(.98); transition:opacity .5s var(--swift), transform .5s var(--swift)}
    [data-stagger].inview > *{opacity:1; transform:none}
    [data-stagger].inview > *{transition-delay:calc(var(--i)*80ms)}

    /* Buttons (clipped sheen) */
    .btn{
      position:relative; border:1px solid transparent; border-radius:16px; padding:12px 18px; font-weight:800; letter-spacing:.2px;
      background:linear-gradient(#0c0f15,#0c0f15) padding-box, linear-gradient(120deg, var(--accent1), var(--accent2)) border-box;
      color:#fff; box-shadow:var(--glow); transition:transform .18s var(--swift), box-shadow .18s var(--swift);
      overflow:hidden; isolation:isolate;
    }
    .btn:hover{transform:translateY(-2px); box-shadow:0 30px 80px rgba(120,150,255,.45)}
    .btn::before{
      content:""; position:absolute; inset:0; border-radius:inherit;
      background:linear-gradient(110deg, rgba(255,255,255,0) 35%, rgba(255,255,255,.30) 50%, rgba(255,255,255,0) 65%);
      transform:translateX(-120%); transition:transform .6s var(--swift); mix-blend-mode:screen; pointer-events:none;
    }
    .btn:hover::before{ transform:translateX(120%) }
    .btn.secondary{background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)); border:1px solid var(--border); box-shadow:none; color:#e9ecf5}

    .eyebrow{display:inline-flex;gap:10px;align-items:center;padding:7px 12px;border-radius:999px;font-size:12px;color:#e5edff;
      border:1px solid rgba(124,152,255,.35); background:linear-gradient(180deg, rgba(124,152,255,.20), rgba(124,152,255,.06))}
    h1{font-size:clamp(36px,5.5vw,64px);line-height:1.05;letter-spacing:-.3px;margin:10px 0 10px}
    .lead{color:var(--muted);font-size:clamp(16px,1.2vw,18px);max-width:min(720px, 90%)}
    .gradient-text{background:linear-gradient(90deg,#9bb7ff,#caa8ff);-webkit-background-clip:text;background-clip:text;color:transparent}

    /* Layout helper */
    .row{display:grid;grid-template-columns:1fr;gap:32px}
    @media(min-width:960px){ .row{grid-template-columns: minmax(420px,1.1fr) minmax(380px,.9fr) } }
    @media(min-width:1280px){ .row{gap:40px} }

    /* Panels / overlay preview */
    .panel{border:1px solid var(--border);border-radius:26px;background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));padding:16px}
    .traffic{display:flex;gap:6px}.dot{width:10px;height:10px;border-radius:999px}
    .ring{--pct:82;--ring-bg:#242532;width:clamp(180px,22vw,260px);height:clamp(180px,22vw,260px);border-radius:50%;margin:10px auto 0;position:relative;
      background:radial-gradient(closest-side, var(--surface) 84%, transparent 0 99%, var(--ring-bg) 0),
                 conic-gradient(#77a4ff calc(var(--pct)*1%), #1f2432 0);box-shadow:inset 0 0 24px rgba(0,0,0,.45)}
    .ring::after{content:attr(data-label);position:absolute;inset:0;display:grid;place-items:center;font-weight:900;font-size:clamp(22px,2.4vw,30px);color:#eaf0ff;text-shadow:0 2px 10px rgba(0,0,0,.35)}
    .mini{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:10px}
    .mini .card{border-radius:16px;border:1px solid var(--border);background:rgba(255,255,255,.05);padding:10px;text-align:center}
    .mini .card b{display:block;margin-bottom:4px}

    /* Feature set */
    .fx-supported{position:relative;overflow:hidden;border-radius:26px;border:1px solid var(--border);padding:22px;background:#10131a;text-align:left}
    .fx-supported::before{content:"";position:absolute;inset:-1px;background:
      radial-gradient(700px 240px at 12% -20%, rgba(124,152,255,.22), transparent 60%),
      radial-gradient(560px 200px at 82% -30%, rgba(200,160,255,.16), transparent 60%);pointer-events:none}
    .fx-pills{display:flex;gap:12px;flex-wrap:wrap;margin-top:8px}
    .fx-pill{display:inline-flex;align-items:center;gap:10px;padding:12px 16px;border-radius:999px;background:linear-gradient(180deg,#151925,#101520);border:1px solid var(--border);font-weight:800;letter-spacing:.2px;transition:transform .2s var(--swift), box-shadow .2s var(--swift)}
    .fx-pill:hover{transform:translateY(-1px);box-shadow:0 12px 26px rgba(0,0,0,.3),0 0 0 1px rgba(122,168,255,.22) inset}
    .fx-dot{width:10px;height:10px;border-radius:999px;background:#ff4545}.fx-dot.nf{background:#e50914}.fx-dot.dp{background:#1f90ff}
    .fx-grid{display:grid;gap:18px;margin-top:16px; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));}

    .fx-card{position:relative;border-radius:24px;padding:18px;background:var(--surface);border:1px solid transparent;background:linear-gradient(var(--surface),var(--surface)) padding-box, linear-gradient(120deg, rgba(122,168,255,.9), rgba(200,160,255,.65)) border-box}

    .footer{border-top:1px solid var(--border);padding:24px 0;margin-top:20px}

    @media (prefers-reduced-motion: reduce){
      .ambient .l{transform:none !important}
      .clip{transition:none;clip-path:none;transform:none}
      [data-reveal],[data-stagger]>*{transition:none;transform:none !important}
      .enter-glow{display:none}
      .mobile-sheet{transform:none !important; opacity:1 !important}
      .mobile-menu{transition:none !important}
    }
  </style>
</head>
<body>
  <div id="scroll-progress"></div>
  <!-- Ambient layers -->
  <div class="ambient" id="ambient">
    <div class="l l1" id="layer1"></div>
    <div class="l l2" id="layer2"></div>
  </div>

  <header class="nav">
    <div class="container nav-inner">
      <div class="brand">
        <span class="logo" aria-hidden="true">
          <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M5 9v6h3l4 4V5L8 9H5zm13.59 3l2.7-2.7-1.42-1.42L17.17 10 14.47 7.3l-1.42 1.42L15.76 11l-2.7 2.7 1.42 1.42L17.17 12l2.7 2.7 1.42-1.42L18.59 12z"/></svg>
        </span>
        <span style="font-size:18px">Ad Mute</span>
        <span class="pill">v1.7.0</span>
      </div>
      <nav class="nav-links" id="nav-links">
        <a href="#features">Features</a>
        <a href="#how">How it works</a>
        <a href="#support">Support</a>
        <a href="#changelog">Changelog</a>
        <a href="#help">Help</a>
      </nav>
      <button class="nav-toggle" id="nav-toggle" aria-label="Menu" aria-expanded="false" aria-controls="mobile-menu">‚ò∞</button>
    </div>
  </header>

  <!-- Mobile menu (hidden by default) -->
  <div class="mobile-menu" id="mobile-menu" hidden>
    <div class="mobile-sheet container">
      <a href="#features">Features</a>
      <a href="#how">How it works</a>
      <a href="#support">Support</a>
      <a href="#changelog">Changelog</a>
      <a href="#help">Help</a>
      <div class="mobile-cta">
        <a class="btn" data-zip href="#">Get it free</a>
        <a class="btn secondary" href="#support">Support the project</a>
      </div>
    </div>
  </div>

  <main>
    <!-- HERO -->
    <section class="section" data-ambient="hue-rotate(215deg) saturate(1.2) brightness(1.08)">
      <div class="container clip" id="hero-clip">
        <div class="enter-glow"></div>
        <div class="row">
          <div>
            <span class="eyebrow" data-reveal>üîí Privacy‚Äëfirst ‚Ä¢ Local detection ‚Ä¢ No tracking</span>
            <h1 data-reveal>Mute ads automatically. <span class="gradient-text">Keep watching.</span></h1>
            <p class="lead" data-reveal>Ad Mute detects ad segments and gently mutes your tab, then restores audio when the content resumes. Lightweight, respectful, and open to your feedback.</p>
            <div data-stagger style="display:flex;gap:12px;flex-wrap:wrap">
              <a class="btn" data-zip href="#">Get it free</a>
              <a class="btn secondary" href="#support">Support the project</a>
            </div>
            <div class="lead" style="font-size:14px;margin-top:8px;color:#d5def7" data-reveal>‚ö° Auto‚Äëmute/auto‚Äëunmute ‚Ä¢ ‚ú® Overlay status</div>
          </div>
          <div>
            <div class="panel" data-reveal>
              <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:12px">
                <div class="traffic"><span class="dot" style="background:#ef4444"></span><span class="dot" style="background:#f59e0b"></span><span class="dot" style="background:#22c55e"></span></div>
                <span class="lead" style="font-size:12px">Overlay Preview</span>
              </div>
              <div style="display:flex;justify-content:center"><div class="ring" data-label="82%"></div></div>
              <div class="mini">
                <div class="card"><b>Now</b><span class="lead" style="font-size:12px;color:#a6adbb">Playing</span></div>
                <div class="card"><b>Muted</b><span class="lead" style="font-size:12px;color:#a6adbb">no</span></div>
                <div class="card"><b>Mode</b><span class="lead" style="font-size:12px;color:#a6adbb">Auto</span></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- FEATURES -->
    <section id="features" class="section" data-ambient="hue-rotate(255deg) saturate(1.2) brightness(1.04)">
      <div class="container clip" id="features-clip">
        <div class="enter-glow"></div>
        <h2 data-reveal>Quiet watching, zero fuss</h2>
        <p class="lead" data-reveal>A lightweight extension that respects your time and your privacy.</p>

        <div class="fx-supported" data-reveal>
          <h3 style="margin:0 0 8px">Supported websites</h3>
          <div class="fx-pills">
            <span class="fx-pill"><span class="fx-dot"></span> YouTube</span>
            <span class="fx-pill"><span class="fx-dot nf"></span> Netflix</span>
            <span class="fx-pill"><span class="fx-dot dp"></span> Disney+</span>
          </div>
          <div style="display:flex;gap:12px;flex-wrap:wrap;justify-content:flex-start;margin-top:14px">
            <a class="btn" href="https://github.com/Kaboombooo/AdMute/discussions?discussions_q=category%3A%22Supported%20websites%22%20sort%3Atop" target="_blank" rel="noopener">Browse requests & upvote</a>
            <a class="btn secondary" href="https://github.com/Kaboombooo/AdMute/discussions/new?category=Supported%20websites" target="_blank" rel="noopener">Request another site</a>
          </div>
        </div>

        <div class="fx-grid" data-stagger>
          <div class="fx-card"><div class="fx-icon" aria-hidden="true"><svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M4 10v4h3l5 5V5l-5 5H4z" fill="#cfd8ff"/><path d="M18.6 12l2.8-2.8-1.4-1.4L17.2 10l-2.8-2.8-1.4 1.4L15.8 11l-2.8 2.8 1.4 1.4 2.8-2.8 2.8 2.8 1.4-1.4L18.6 12z" fill="#cfd8ff"/></svg></div><h4>Auto-mute during ads</h4><p>Detects ad segments locally and mutes your tab, then restores audio when content returns.</p></div>
          <div class="fx-card"><div class="fx-icon" aria-hidden="true"><svg width="18" height="18" viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="8" stroke="#cfd8ff" stroke-width="2"/><path d="M12 12l5-3" stroke="#cfd8ff" stroke-width="2" stroke-linecap="round"/></svg></div><h4>Live status overlay</h4><p>See confidence & state at a glance. Toggle overlay or switch to manual anytime.</p></div>
          <div class="fx-card"><div class="fx-icon" aria-hidden="true"><svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M12 3l8 3v5c0 5.25-3.5 8.96-8 10-4.5-1.04-8-4.75-8-10V6l8-3z" stroke="#cfd8ff" stroke-width="2" fill="none"/><path d="M9 12l2 2 4-4" stroke="#cfd8ff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></div><h4>Privacy-first</h4><p>No browsing history collection. No invasive analytics. You‚Äôre in control.</p></div>
        </div>
      </div>
    </section>

    <!-- HOW -->
    <section id="how" class="section" data-ambient="hue-rotate(190deg) saturate(1.1) brightness(1)">
      <div class="container clip" id="how-clip">
        <div class="enter-glow"></div>
        <h2 data-reveal>How it works</h2>
        <div class="fx-grid" data-stagger>
          <div class="fx-card"><h4>1. Add Ad Mute</h4><p>Install from your browser‚Äôs store. No account required.</p></div>
          <div class="fx-card"><h4>2. Watch like normal</h4><p>We detect ad segments locally and mute/unmute the tab automatically.</p></div>
          <div class="fx-card"><h4>3. You‚Äôre in control</h4><p>Use the overlay or toolbar to switch modes and report issues.</p></div>
        </div>
      </div>
    </section>

    <!-- SUPPORT -->
    <section id="support" class="section" data-ambient="hue-rotate(320deg) saturate(1.2) brightness(1.05)">
      <div class="container clip" id="support-clip">
        <div class="enter-glow"></div>
        <div class="support-wrap" style="display:grid; place-items:center; text-align:center; gap:14px;">
          <h2 data-reveal style="margin-bottom:2px">Support Ad Mute</h2>
          <p class="lead" data-reveal style="margin:0 auto; text-align:center;">The extension is free. If it helps you, chip in any amount to keep development going.</p>
          <div data-stagger style="display:flex;gap:12px;flex-wrap:wrap;justify-content:center">
            <button class="btn" id="open-support-2">Support via Paddle</button>
            <a class="btn secondary" id="gumroad-btn" href="#" data-gumroad-single-product="true">Support via Gumroad</a>
          </div>
          <p class="lead" style="margin-top:10px;color:#cfd6e6" data-reveal>Paddle/Gumroad act as merchant‚Äëof‚Äërecord and handle tax & disputes.</p>
        </div>
      </div>
    </section>

    <!-- CHANGELOG -->
    <section id="changelog" class="section" data-ambient="hue-rotate(270deg) saturate(1.2) brightness(1.02)">
      <div class="container clip" id="changelog-clip">
        <div class="enter-glow"></div>
        <h2 data-reveal>Changelog & Roadmap</h2>
        <div class="fx-grid" style="grid-template-columns:repeat(2, minmax(280px,1fr))" data-stagger>
          <div class="fx-card"><div class="lead" style="font-size:12px;color:#9aa6c0">Aug 2025</div><h4>v1.7.0</h4>
            <ul class="lead" style="color:#a6afc3"><li>Overlay wording tweaks (Now / Muted / Mode).</li><li>YouTube auto‚Äëskip iteration; better ad‚Äëend handling.</li><li>Bug fixes for Netflix ad‚Äëend loop edge case.</li></ul></div>
          <div class="fx-card"><h4>Up next</h4><ul class="lead" style="color:#a6afc3"><li>Optional supporter badge in overlay.</li><li>Public beta channel with early builds.</li><li>Expanded site‚Äëspecific detectors (config UI).</li></ul></div>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="container" id="legal">
      <div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:16px">
        <div><b>Ad Mute</b><div class="lead" style="color:#a6afc3">Silence loud ads. Keep the show.</div></div>
        <div><b>Legal</b><div><a href="#privacy">Privacy</a> ¬∑ <a href="#terms">Terms</a></div></div>
        <div><b>Contact</b><div class="lead" style="color:#a6afc3">kaboomboooo@gmail.com</div></div>
      </div>
      <div id="privacy" class="fx-card" style="margin-top:16px"><h4>Privacy</h4><p class="lead" style="color:#a6afc3">We don‚Äôt track you. No cookies by default. If you add analytics later (e.g., Plausible), update this notice.</p></div>
      <div id="terms" class="fx-card" style="margin-top:12px"><h4>Terms</h4><p class="lead" style="color:#a6afc3">Ad Mute is provided ‚Äúas‚Äëis.‚Äù Support payments are voluntary and unlock no required features. Refunds available within 7 days‚Äîcontact us first. Paddle/Gumroad are merchant‚Äëof‚Äërecord and handle tax/payment ops.</p></div>
    </div>
  </footer>

  <script src="https://cdn.paddle.com/paddle/v2/paddle.js"></script>
  <script src="https://gumroad.com/js/gumroad.js"></script>

  <script>
    // Ambient parallax + hue
    (function(){
      const ambient = document.getElementById('ambient');
      const l1 = document.getElementById('layer1');
      const l2 = document.getElementById('layer2');
      const sections = document.querySelectorAll('section[data-ambient]');
      const clips = document.querySelectorAll('.clip');
      const secIO = new IntersectionObserver((entries)=>{ for(const e of entries){ if(e.isIntersecting) e.target.classList.add('entered'); } }, {threshold:0.25});
      document.querySelectorAll('.section .enter-glow').forEach(el=>secIO.observe(el.parentElement));
      const clipIO = new IntersectionObserver((entries)=>{ for(const e of entries){ if(e.isIntersecting) e.target.classList.add('active'); } }, {threshold:0.12});
      clips.forEach(el=>clipIO.observe(el));
      const ambIO = new IntersectionObserver((entries)=>{ entries.forEach(e=>{ if(!e.isIntersecting) return; ambient.style.filter = e.target.getAttribute('data-ambient') || ''; }); }, {threshold:0.35});
      sections.forEach(s=>ambIO.observe(s));
      let ticking=false;
      function onScroll(){
        if(ticking) return; ticking=true;
        requestAnimationFrame(()=>{
          const y = window.scrollY || 0;
          l1.style.transform = `translate3d(0, ${y * -0.04}px, 0)`;
          l2.style.transform = `translate3d(0, ${y * -0.08}px, 0)`;
          const h = document.documentElement.scrollHeight - window.innerHeight;
          const p = h > 0 ? (y / h) : 0;
          document.getElementById('scroll-progress').style.transform = `scaleX(${p})`;
          ticking=false;
        });
      }
      onScroll(); window.addEventListener('scroll', onScroll, {passive:true});

      const revIO = new IntersectionObserver((entries)=>{ for(const e of entries){ if(e.isIntersecting) e.target.classList.add('inview'); } }, {threshold:0.12});
      document.querySelectorAll('[data-reveal],[data-stagger]').forEach(el=>revIO.observe(el));
      document.querySelectorAll('[data-stagger]').forEach(group=>{ [...group.children].forEach((el,i)=>el.style.setProperty('--i', i)); });
    })();

    // Download wiring (GH Pages)
    (function(){
      const ZIP_NAME = "ad-mute-v1.7.0.zip";
      const segs = location.pathname.split("/").filter(Boolean);
      const base = (location.hostname.endsWith(".github.io") && segs.length ? `/${segs[0]}/` : "/");
      const zipUrl = `${base}downloads/${ZIP_NAME}`;
      document.querySelectorAll('[data-zip]').forEach(a => { a.setAttribute('href', zipUrl); a.setAttribute('download', ZIP_NAME); });
    })();

    // Horizontal wheel scroll for nav overflow
    (function(){
      const scroller = document.getElementById('nav-links');
      if(!scroller) return;
      scroller.addEventListener('wheel', (e)=>{ if(Math.abs(e.deltaY) > Math.abs(e.deltaX)){ scroller.scrollLeft += e.deltaY; e.preventDefault(); } }, {passive:false});
    })();

    // Collapsible mobile menu
    (function(){
      const btn = document.getElementById('nav-toggle');
      const menu = document.getElementById('mobile-menu');
      const html = document.documentElement;
      if(!btn || !menu) return;

      function open(){ menu.hidden = false; requestAnimationFrame(()=>{ menu.classList.add('open'); }); btn.setAttribute('aria-expanded','true'); html.style.overflow='hidden'; }
      function close(){ menu.classList.remove('open'); btn.setAttribute('aria-expanded','false'); html.style.overflow=''; setTimeout(()=>{ menu.hidden = true; }, 220); }

      btn.addEventListener('click', ()=>{ (menu.classList.contains('open') ? close : open)(); });
      menu.addEventListener('click', (e)=>{ if(e.target === menu) close(); });
      menu.querySelectorAll('a').forEach(a=>a.addEventListener('click', close));
      window.addEventListener('resize', ()=>{ if(window.innerWidth > 880 && menu.classList.contains('open')) close(); });
    })();
  </script>
</body>
</html>
